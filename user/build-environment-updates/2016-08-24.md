---
title: Build Environment Update History
layout: en
permalink: /user/build-environment-updates/2016-08-24/
category: build_env_updates
date: 2016-08-24
---

## 2016-08-24

This update affects fully-virtualized Linux environments.

### Schedule

[2016-08-24 15:00 UTC](http://everytimezone.com/#2016-8-24,180,cn3)

### Added

- Full YAML dump of build-time Chef attributes at `/.node-attributes.yml`
- Ruby `2.3.1` to preinstalled versions on `ruby-precise` stack
- Installation of the following in base packages on all "rich" (non-minimal)
  stacks:
  - `x11-utils`
  - `xserver-xorg-core`
  - `xserver-xorg-video-all`
  - `xvfb`
- Explicitly disabling IPv6 as it is not supported on Google Compute Engine

### Changed

- Set default `php` version to `5.6.24`

### Removed

- Installation of `fglrx` with base packages, as it (seemingly) conflicts with
  the `GLX` extension being enabled in `xvfb`.

### Fixed

- Various issues with the content of `/etc/hosts`
  - Ensure only one entry for `127.0.0.1` and `127.0.1.1`
  - Ensure entry for `localhost` resolves to `127.0.0.1`
  - Ensure entry for hostname and `ip4-loopback` resolve to `127.0.1.1`
- Ensure `user.name` and `user.email` are set in `~travis/.gitconfig`
- Ensure `xvfb` has `GLX` extension enabled
- Ensure `php-fpm` is available in `$PATH`
- Ensure default `php` version has expected modules

### Details

- All wrapper cookbooks [packer-templates diff](https://github.com/travis-ci/packer-templates/compare/ec5e103...02fde03)
- Trusty stack [travis-cookbooks diff](https://github.com/travis-ci/travis-cookbooks/compare/3e0e60d...152b200)
- Precise stack [travis-cookbooks diff](https://github.com/travis-ci/travis-cookbooks/compare/db8067b...f77e708)
