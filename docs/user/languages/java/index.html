<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Travis CI: Building a Java project</title>
    <link rel="stylesheet" type="text/css" href="/style.css" media="screen">
    <link rel="alternate" type="application/rss+xml" href="/blog.xml">
  </head>
  <body>
    <div id="navigation">
      <div class="wrapper">
        <a href="http://travis-ci.org" id="logo">travis-ci<span>.org</span></a>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/docs/">Documentation</a></li>
          <li class="english lang active"><a href="/" class="selected">English</a></li>
          <li class="french lang"><a href="/fr/">Français</a></li>
        </ul>
      </div>
    </div>

    <div id="header">
      <div class="wrapper">
        <h1 class="riddle"><a href="/" title="Travis">Travis CI</a></h1>
        <p>A distributed build system for the open source community.</p>
      </div><!-- /.wrapper -->
    </div><!-- /#header -->

    <div id="content">
      <div class="wrapper">
        <div class="pad">
          <div id="main">
            
            <h2>Building a Java project</h2>
            

            <h2 id="what-this-guide-covers">What This Guide Covers</h2>

<p>This guide covers build environment and configuration topics specific to Java projects. Please make sure to read our <a href="/docs/user/getting-started/">Getting Started</a> and <a href="/docs/user/build-configuration/">general build configuration</a> guides first.</p>

<h2 id="overview">Overview</h2>

<p>Travis CI environment provides OpenJDK 6, Maven 3, Gradle 1.0-milestone 7 and Ant 1.7. Java project builder has reasonably good defaults for
projects that use Gradle, Maven or Ant, so quite often you won’t have to configure anything beyond</p>

<pre><code>language: java
</code></pre>

<p>in your <code>.travis.yml</code> file.</p>

<p>Support for multiple JDKs will be available in the future.</p>

<h2 id="projects-using-maven">Projects Using Maven</h2>

<h3 id="default-test-command">Default Test Command</h3>

<p>if your project has <code>pom.xml</code> file in the repository root but no <code>build.gradle</code>, Travis Java builder will use Maven 3 to build it.
By default it will use</p>

<pre><code>mvn test
</code></pre>

<p>to run your test suite. This can be overriden as described in the <a href="/docs/user/build-configuration/">general build configuration</a> guide.</p>

<h3 id="dependency-management">Dependency Management</h3>

<p>Before running tests, Java builder will execute</p>

<pre><code>mvn install -DskipTests=true
</code></pre>

<p>to install your project’s dependencies with Maven.</p>

<h2 id="projects-using-gradle">Projects Using Gradle</h2>

<h3 id="default-test-command-1">Default Test Command</h3>

<p>if your project has <code>build.gradle</code> file in the repository root, Travis Java builder will use Gradle to build it.
By default it will use</p>

<pre><code>gradle check
</code></pre>

<p>to run your test suite. This can be overriden as described in the <a href="/docs/user/build-configuration/">general build configuration</a> guide.</p>

<h3 id="dependency-management-1">Dependency Management</h3>

<p>Before running tests, Java builder will execute</p>

<pre><code>gradle assemble
</code></pre>

<p>to install your project’s dependencies with Gradle.</p>

<h2 id="projects-using-ant">Projects Using Ant</h2>

<h3 id="default-test-command-2">Default Test Command</h3>

<p>If Travis could not detect Maven or Gradle files, Travis Java builder will use Ant to build it.
By default it will use</p>

<pre><code>ant test
</code></pre>

<p>to run your test suite. This can be overriden as described in the <a href="/docs/user/build-configuration/">general build configuration</a> guide.</p>

<h3 id="dependency-management-2">Dependency Management</h3>

<p>Because there is no single standard way of installing project dependencies with Ant, Travis CI Java builder does not have any default
for it. You need to specify the exact commend to run using <code>install:</code> key in your <code>.travis-yml</code>, for example:</p>

<pre><code>language: java
install: ant deps
</code></pre>

<h2 id="examples">Examples</h2>

<ul>
  <li><a href="https://github.com/basho/riak-java-client/blob/master/.travis.yml">Riak Java client</a></li>
  <li><a href="https://github.com/cucumber/cucumber-jvm/blob/master/.travis.yml">Cucumber JVM</a></li>
  <li><a href="https://github.com/pulse00/Symfony-2-Eclipse-Plugin/blob/master/.travis.yml">Symfony 2 Eclipse plugin</a></li>
  <li><a href="https://github.com/pullrequest/resthub/blob/master/.travis.yml">RESTHub</a></li>
  <li><a href="https://github.com/jruby/joni/blob/master/.travis.yml">Joni</a>, JRuby’s regular expression implementation</li>
</ul>

          </div><!-- /#main -->
          <div id="sidebar">
            <h2>Contact</h2>
            <ul>
              <li><a href="http://twitter.com/travisci">Twitter</a></li>
              <li><a href="irc://irc.freenode.net#travis">IRC</a></li>
              <li><a href="http://groups.google.com/group/travis-ci">Mailing list</a></li>
              <li><a href="http://github.com/travis-ci">Github</a></li>
            </ul>
            <h2>Guides</h2>
            <ul>
              <li><a href="/docs/user/getting-started/">Getting started</a></li>
              <li><a href="/docs/user/build-configuration/">Build configuration</a></li>
              <li><a href="/docs/user/travis-lint/">Validate your .travis.yml with travis-lint</a></li>
              <li><a href="/docs/user/database-setup/">Database setup</a></li>
              <li><a href="/docs/user/selenium-setup/">Headless browser setup</a></li>
              <li><a href="/docs/user/status-images/">Build Status images</a></li>
              <li><a href="/docs/user/ci-environment/">CI environment</a></li>
            </ul>
            <h2>Language-specific Guides</h2>
            <ul>
              <li><a href="/docs/user/languages/clojure/">Clojure</a></li>
              <li><a href="/docs/user/languages/erlang/">Erlang</a></li>
              <li><a href="/docs/user/languages/groovy/">Groovy</a></li>
              <li><a href="/docs/user/languages/java/">Java</a></li>
              <li><a href="/docs/user/languages/javascript-with-nodejs/">JavaScript (with Node.js)</a></li>
              <li><a href="/docs/user/languages/php/">PHP</a></li>
              <li><a href="/docs/user/languages/ruby/">Ruby</a></li>
              <li><a href="/docs/user/languages/scala/">Scala</a></li>
            </ul>

            <h2>3rd Party Tools and Resources</h2>
            <ul>
              <li><a href="/docs/user/browser-extensions/">Browser Extensions</a></li>
              <li><a href="/docs/user/resources/">Links & Resources</a></li>
            </ul>
            
            <h2>How-Tos</h2>
            <ul>
              <li><a href="/docs/user/how-to-skip-a-build/">How to skip a build</a></li>
              <li><a href="/docs/user/how-to-setup-and-trigger-the-hook-manually/">How to setup GitHub Travis hook and trigger builds manually</a></li>
            </ul>
            <h2>Developer Guides</h2>
            <ul>
              <li><a href="/docs/dev/api/">The API</a></li>
            </ul>
            <h2>Contributor Guides</h2>
            <ul>
              <li><a href="/docs/dev/overview/">Technical Overview</a></li>
              <li><a href="/docs/dev/worker/">The worker (v3)</a></li>
              <li><a href="/docs/dev/build_tasks/">Build Tasks</a></li>
              <li><a href="/docs/dev/maintenance/">Maintenance</a></li>
            </ul>
            <h2>Contributing</h2>
            <p>This documentation site is open source. Feel free to <a href="https://github.com/travis-ci/travis-ci.github.com/issues">file issues about it</a>.
              The README in our <a href="https://github.com/travis-ci/travis-ci.github.com">Git repository</a> explains how to contribute.</p>
          </div><!-- /#sidebar -->
        </div><!-- /.pad -->
      </div><!-- /.wrapper -->
    </div><!-- /#content -->

    <div id="footer">
      <div class="wrapper">
        <div class="box">
          <p>This site is maintained by the <a href="http://github.com/travis-ci">Travis CI community</a>. Feel free to <a href="http://github.com/travis-ci/travis-ci.github.com">contribute</a>!</p>
        </div>
        <div class="box">
          <p>This design was kindly provided by the talented Ben Webster of <a href="http://www.plus2.com.au">Plus2</a>.</p>
        </div>
        <div class="box last">
          <ul>
            <li><a href="https://github.com/travis-ci" title="">Travis CI on GitHub</a></li>
            <li><a href="https://twitter.com/travisci" title="">Travis CI on Twitter</a></li>
          </ul>
        </div><!-- /.box -->
      </div><!-- /.wrapper -->
    </div><!-- /#footer -->
  </body>
</html>
