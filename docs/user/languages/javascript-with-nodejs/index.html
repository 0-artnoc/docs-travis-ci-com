<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Travis CI: Building a Node.js project</title>
    <link rel="stylesheet" type="text/css" href="/style.css" media="screen">
  </head>
  <body>
    <div id="navigation">
      <div class="wrapper">
        <a href="http://travis-ci.org" id="logo">travis-ci<span>.org</span></a>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/docs/">Documentation</a></li>
          <li class="right"><a href="http://travis-ci.org">go to travis-ci.org &rarr;</a></li>
        </ul>
      </div>
    </div>

    <div id="header">
      <div class="wrapper">
        <!--
        <div class="language-switcher">
          <nav>
          <span>Languages:</span>
          <ul>
            <li><a href="/" class="selected">en</a></li>
            <li><a href="/fr/">fr</a></li>
          </ul>
          </nav>
        </div>
        -->
        <h1 class="riddle"><a href="/" title="Travis">Travis CI</a></h1>
        <p>A distributed build system for the open source community.</p>
      </div><!-- /.wrapper -->
    </div><!-- /#header -->

    <div id="content">
      <div class="wrapper">
        <div class="pad">
          <div id="main">
            
              <h2>Building a Node.js project</h2>
            

            <p>Travis VMs used by Ruby workers provide Node 0.4.12 and NPM 1.0.x. Historically Node.js projects were built there but in November 2011 Node.js support was improved to
be &ldquo;first class&rdquo;: testing against multiple Node.js versions on a separate set of VMs. We recommend that you use them to test your Node.js project.
Add the following line to .travis.yml:</p>

<pre><code>language: node_js
node_js:
  - 0.4
  - 0.6
</code></pre>

<p>This will make Travis run your tests against the latest (as provided by Travis maintainers, not necessary the absolutely the latest) 0.4.x branch release. 0.6 is an alias
for &ldquo;the most recent 0.6.x release&rdquo; and so on. Please note that using exact versions (for example, 0.4.12) is highly discouraged because as versions change, your
.travis.yml will get outdated and things will break.</p>

<p>For example, see <a href="https://github.com/scottyapp/hook.io-amqp-listener/blob/master/.travis.yml">hook.io-amqp-listener .travis.yml</a>.</p>

<p>You can tell npm how to run your test suite by adding a line in package.json. For example, to test using Vows:</p>

<pre><code>scripts: {
  test: "vows --spec"
},
</code></pre>

<p>To setup the database and test using Expresso:</p>

<pre><code>scripts: {
  pretest: "NODE_ENV=test node setup_db",
  test: "expresso test/*"
},
</code></pre>

<p>Keeping the test script configuration in package.json makes it easy for other people to collaborate on your project, all they need to remember are the npm install and npm test conventions.</p>

<h3 id="overriding-script-beforeinstall-beforescript-and-friends">Overriding script, before_install, before_script and friends</h3>

<p>See <a href="/docs/user/build-configuration/">Build configuration</a> to learn about <em>before_install</em>, <em>before_script</em>, branches configuration, email notification
configuration and so on.</p>

<h3 id="provided-nodejs-versions">Provided Node.js Versions</h3>

<ul>
  <li>0.4 (currently 0.4.12)</li>
  <li>0.6 (currently 0.6.1)</li>
</ul>

<p>The NVM project we use is available in our <a href="https://github.com/travis-ci/travis-cookbooks/tree/master/vagrant_base/nodejs">multi-version Node.js Chef cookbook</a>.</p>

          </div><!-- /#main -->
          <div id="sidebar">
            <h2>Contact</h2>
            <ul>
              <li><a href="http://github.com/travis-ci">Github</a></li>
              <li><a href="http://twitter.com/travisci">Twitter</a></li>
              <li><a href="irc://irc.freenode.net#travis">IRC</a></li>
              <li><a href="http://groups.google.com/group/travis-ci">Mailing list</a></li>
            </ul>
            <h2>User Docs</h2>
            <ul>
              <li><a href="/docs/user/getting-started/">Getting started</a></li>
              <li><a href="/docs/user/build-configuration/">Build configuration</a></li>
              <li><a href="/docs/user/database-setup/">Database setup</a></li>
              <li><a href="/docs/user/selenium-setup/">Selenium setup</a></li>
              <li><a href="/docs/user/status-images/">Status images</a></li>
              <li><a href="/docs/user/resources/">Resources</a></li>
              <li><a href="/docs/user/ci-environment/">CI environment</a></li>
              <li><a href="/docs/user/extensions/">Extensions</a></li>
              <li><a href="/docs/user/how-to-skip-a-build/">How to skip a build</a></li>
              <li><a href="/docs/user/how-to-setup-and-trigger-the-hook-manually/">How to setup and trigger the hook manually</a></li>
            </ul>
            <h2>Languages</h2>
            <ul>
            <li><a href="/docs/user/languages/clojure/">Clojure</a></li>
            <li><a href="/docs/user/languages/erlang/">Erlang</a></li>
            <li><a href="/docs/user/languages/javascript-with-nodejs/">JavaScript (with Node.js)</a></li>
            <li><a href="/docs/user/languages/php/">PHP</a></li>
            <li><a href="/docs/user/languages/ruby/">Ruby</a></li>
           </ul>
            <h2>Developer Docs</h2>
            <ul>
              <li><a href="/docs/dev/worker/">The worker</a></li>
              <li><a href="/docs/dev/api/">The API</a></li>
              <li><a href="/docs/dev/build_tasks/">Build Tasks</a></li>
            </ul>
            <h2>Under construction</h2>
            <ul>
              <li><p>Our site is still under construction. You can help us in: travis#irc.freenode.net</p></li>
            </ul>
          </div><!-- /#sidebar -->
        </div><!-- /.pad -->
      </div><!-- /.wrapper -->
    </div><!-- /#content -->

    <div id="footer">
      <div class="wrapper">
        <div class="box">
          <p>This site is maintained by the <a href="http://github.com/travis-ci">Travis CI community</a>. Feel free to <a href="http://github.com/travis-ci/travis-ci.github.com">contribute</a>!</p>
        </div>
        <div class="box">
          <p>This design was kindly provided by the talented Ben Webster of <a href="http://www.plus2.com.au">Plus2</a>.</p>
        </div>
        <div class="box last">
          <ul>
            <li><a href="https://github.com/travis-ci" title="">Travis CI on GitHub</a></li>
            <li><a href="https://twitter.com/travisci" title="">Travis CI on Twitter</a></li>
          </ul>
        </div><!-- /.box -->
      </div><!-- /.wrapper -->
    </div><!-- /#footer -->
  </body>
</html>
